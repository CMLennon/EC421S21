pagedown::chrome_print(
input = "06-consistency.html",
timeout = 60
)
#regress fitted.values on residuals
error_reg = lm(abs(est17$residuals) ~ est17$fitted.values)
#model
est17 = lm(
personal_income ~ education + i_female + education:i_female + marrno,
data = ps_df
)
# Load packages
library(pacman)
p_load(tidyverse, broom, skimr, here)
# Load dataset
ps_df = here("ps-002-data.csv") %>% read_csv()
#model
est17 = lm(
personal_income ~ education + i_female + education:i_female + marrno,
data = ps_df
)
# The results
summary(est17)
#regress fitted.values on residuals
error_reg = lm(abs(est17$residuals) ~ est17$fitted.values)
#extract fitted values - square them
fitted_values = error_reg$fitted.values^2
#create weights
weights = 1/fitted_values
weights
wls_est = lm(personal_income ~ education + i_female + education:i_female + marrno, weights = weights, data = ps_df)
wls_est %>% summary()
#model
est17 = lm(
personal_income ~ education + i_citizen + education:i_citizen + marrno,
data = ps_df
)
# The results
summary(est17)
#regress fitted.values on residuals
error_reg = lm(abs(est17$residuals) ~ est17$fitted.values)
#extract fitted values - square them
fitted_values = error_reg$fitted.values^2
#create weights
weights = 1/fitted_values
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno, weights = weights, data = ps_df)
wls_est %>% summary()
#model
est17 = lm(
personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female,
data = ps_df
)
# The results
summary(est17)
#model
est17 = lm(
personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education,
data = ps_df
)
# The results
summary(est17)
#regress fitted.values on residuals
error_reg = lm(abs(est17$residuals) ~ est17$fitted.values)
#extract fitted values - square them
fitted_values = error_reg$fitted.values^2
#create weights
weights = 1/fitted_values
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno, weights = weights, data = ps_df)
wls_est %>% summary()
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education,, weights = weights, data = ps_df)
wls_est %>% summary()
summary(wls_est)$coef[3,4]
summary(wls_est)$coef[3,5]
summary(wls_est)$coef[4,4]
summary(wls_est)$coef[5,4]
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education,, weights = weights, data = ps_df)
wls_est %>% summary()
error_reg %>% summary()
#regress fitted.values on residuals
error_reg = lm(abs(est17$residuals) ~ est17$fitted.values + est17$fitted.values^2 + est17$fitted.values^3)
#extract fitted values - square them
fitted_values = error_reg$fitted.values^2
#create weights
weights = 1/fitted_values
error_reg %>% summary()
#regress fitted.values on residuals
error_reg = lm(abs(est17$residuals) ~ est17$fitted.values + est17$fitted.values^2 + est17$fitted.values^3)
#extract fitted values - square them
fitted_values = error_reg$fitted.values^2
#create weights
weights = 1/fitted_values
error_reg %>% summary()
#regress fitted.values on residuals
error_reg = lm(abs(est17$residuals) ~ est17$fitted.values + I(est17$fitted.values^2) + I(est17$fitted.values^3))
#extract fitted values - square them
fitted_values = error_reg$fitted.values^2
error_reg %>% summary()
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education,, weights = weights, data = ps_df)
wls_est %>% summary()
fitted_values = error_reg$fitted.values^2
weights = 1/fitted_values
summary(error_reg)
#regress fitted.values on residuals
error_reg = lm(abs(est17$residuals) ~ est17$fitted.values + I(est17$fitted.values^2) + I(est17$fitted.values^3) + I(est17$fitted.values^4))
#regress fitted.values on residuals
summary(error_reg)
#extract fitted values - square them
fitted_values = error_reg$fitted.values^2
#create weights
weights = 1/fitted_values
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education,, weights = weights, data = ps_df)
wls_est %>% summary()
library)pacman
library(pacman)
p_load(tidyverse)
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education,, weights = weights, data = ps_df)
wls_est %>% summary()
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education,, weights = weights, data = ps_df)
wls_est %>% tidy()
p_load(broom)
wls_est %>% tidy()
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education:i_citizen, weights = weights, data = ps_df)
wls_est %>% tidy()
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_female:education:i_citizen + i_female:education, weights = weights, data = ps_df)
wls_est %>% tidy()
wls_est = lm(personal_income ~ education + i_citizen + education:i_citizen + marrno + i_female + i_citizen:i_female + i_female:education:i_citizen + i_female:education, weights = weights, data = ps_df)
wls_est %>% tidy()
# Load dataset
ps_df = here("ps-002-data.csv") %>% read_csv()
p_load(here)
# Load dataset
ps_df = here("ps-002-data.csv") %>% read_csv()
# Summary of 'ps_df' variables
summary(ps_df)
# ORRR Skim the dataset
skim(ps_df)
p_load(skimr)
skim(ps_df)
library(readr)
ps_002_data <- read_csv("~/Desktop/GithubProjects/Econometrics/EC421/Spring2021/PS-002/ps-002-data.csv")
View(ps_002_data)
ps_002_data %<>% select(-weights)
p_load(magrittr)
ps_002_data %<>% select(-weights)
write_csv(ps_002_data, "/Users/connor/Desktop/GithubProjects/Econometrics/EC421/Spring2021/PS-002/ps-002-data.csv")
write_rds(ps_002_data, "/Users/connor/Desktop/GithubProjects/Econometrics/EC421/Spring2021/PS-002/ps-002-data.rds")
